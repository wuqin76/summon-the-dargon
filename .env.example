# ============================================
# 游戏配置参数
# ============================================

# Node 环境
NODE_ENV=development

# 服务器配置
PORT=3000
HOST=0.0.0.0

# 数据库配置
DATABASE_URL=postgresql://user:password@localhost:5432/dragon_game
REDIS_URL=redis://localhost:6379

# Telegram Bot 配置
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_USERNAME=YourBotUsername

# TRON 网络配置
TRON_NETWORK=mainnet
# mainnet: https://api.trongrid.io
# shasta testnet: https://api.shasta.trongrid.io
# nile testnet: https://nile.trongrid.io
TRON_API_URL=https://api.trongrid.io
TRON_API_KEY=your_trongrid_api_key

# TRC20 USDT 合约地址
# Mainnet: TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t
# Shasta Testnet: TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs
USDT_CONTRACT_ADDRESS=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t

# 平台收款地址（必须配置）
PLATFORM_ADDRESS=TYourPlatformAddressHere
PLATFORM_PRIVATE_KEY=your_private_key_for_payouts

# 支付配置
PAYMENT_AMOUNT=10
PAYMENT_CONFIRMATIONS=1
PAYMENT_TIMEOUT_MINUTES=30

# ============================================
# 转盘（Spin）配置
# ============================================

# 大奖阈值（需要人工审核）
LARGE_PRIZE_THRESHOLD=888

# 转盘概率配置（JSON 格式）
SPIN_PROBABILITIES='[
  {"value": 8888, "probability": 0.0001, "label": "8888 USDT"},
  {"value": 888, "probability": 0.0009, "label": "888 USDT"},
  {"value": 88, "probability": 0.01, "label": "88 USDT"},
  {"value": 8, "probability": 0.08, "label": "8 USDT"},
  {"value": 3, "probability": 0.20, "label": "3 USDT"},
  {"value": 1, "probability": 0.30, "label": "1 USDT"},
  {"value": 0.5, "probability": 0.25, "label": "0.5 USDT"},
  {"value": 0.1, "probability": 0.159, "label": "0.1 USDT"}
]'

# ============================================
# 提现配置
# ============================================

# 提现门槛
WITHDRAWAL_THRESHOLD=100.0

# 手续费配置
PLATFORM_PAYS_FEE=false
WITHDRAWAL_FEE_PERCENT=1.0
WITHDRAWAL_FEE_FIXED=0

# 每日批量打款时间（UTC 小时）
DAILY_BATCH_HOUR=4

# ============================================
# 邀请奖励配置
# ============================================

# 首次邀请奖励
FIRST_INVITE_REWARD=0.1

# ============================================
# 风控配置
# ============================================

# 每日限制
MAX_INVITES_PER_IP_PER_DAY=10
MAX_PAYMENTS_PER_USER_PER_DAY=10
MAX_SPIN_PER_USER_PER_DAY=20

# KYC 阈值
KYC_REQUIRED_FOR_AMOUNT=100

# IP 检测
ENABLE_IP_CHECK=true
ENABLE_DEVICE_FINGERPRINT=true

# ============================================
# 管理员配置
# ============================================

# 管理员 Telegram IDs（逗号分隔）
ADMIN_TELEGRAM_IDS=123456789,987654321

# JWT 密钥
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d

# ============================================
# 通知配置
# ============================================

# 告警通知
ALERT_TELEGRAM_CHAT_ID=your_alert_chat_id
ALERT_EMAIL=alert@yourdomain.com

# SMTP 配置（可选）
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# ============================================
# 日志和审计
# ============================================

LOG_LEVEL=info
AUDIT_LOG_RETENTION_DAYS=90

# ============================================
# 安全配置
# ============================================

# CORS 白名单
CORS_ORIGIN=https://yourdomain.com,https://t.me

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
